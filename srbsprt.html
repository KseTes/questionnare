<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <link rel="icon" type="image/x-icon" href="/questionnare/favicon.ico">
  <title>Questionnaire</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      padding: 0;  
      background-color: #e0e0e0;
      font-family: Arial, sans-serif;
      font-size: 20px;
      color: #000;
    }
    .wrapper {
      max-width: 25em;
      padding: 0.5em;
    }
    .question {
      margin-bottom: 2em;
      padding: 1.5em 3em;
      background-color: #555;
      color: #fff;
    }
    .buttons {
      display: flex;
      gap: 1.3em;
      justify-content: center;
      flex-direction: column;
      width: 100%;
      flex-wrap: wrap;
    }
    .question, .button {
      border-radius: 1.5em;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    .button {
      padding: 1.5em 3em;
      cursor: pointer;
      transition: transform 0.1s;
      text-decoration: none;
      background-color: #fff;
      color: #111;
      flex: 1 1 0;
    }
    .button:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <section class="wrapper">
    <div class="question" id="question">Do you play casino online?</div>
    <div class="buttons">
      <a href="#" class="button" id="yesBtn">YES</a>
      <a href="#" class="button" id="maybeBtn">NO but maybe will start one day</a>
      <a href="#" class="button" id="noBtn">NO and most likely will never start</a>
    </div>
  </section>

  <script>
    const CONFIG = {
      ridKey: 'RID',
      regionKey: 'region',
      fallbackLink: 'https://samplicio.us/s/ClientCallBack.aspx?RIS=20'
    };

    const translations = {
    ph: {
        defaultLang: 'ph',
        links: {
          yesLink: "https://yandex.ru/poll/WB8BgKrr5VyBePx5YzikAU",
          maybeLink: CONFIG.fallbackLink,
          noLink: CONFIG.fallbackLink
        },
        languages: {
          en: {
            question: "Do you play casino online?",
            yes: "YES",
            maybe: "NO but maybe will start one day",
            no: "NO and most likely will never start"
          },
          ph: {
            question: "Naglalaro ka ba ng mga laro sa casino online?",
            yes: "Oo",
            maybe: "Hindi kailanman. Pero baka isang araw ay magsisimula na akong maglaro",
            no: "Hindi kailanman. At malamang ay hindi kailanman magsisimulang maglaro"
          }          
        }
      },
      ch: {
        defaultLang: 'ch',
        links: {
          yesLink: "https://yandex.ru/poll/V6F2GinwDK8RdwXbMffBHB",
          maybeLink: CONFIG.fallbackLink,
          noLink: CONFIG.fallbackLink
        },
        languages: {
          en: {
            question: "Do you play casino online?",
            yes: "YES",
            maybe: "NO but maybe will start one day",
            no: "NO and most likely will never start"
          },
          ch: {
            question: "¿Juegas al casino en línea?",
            yes: "Sí",
            maybe: "Nunca. Pero quizás empiece a jugar algún día",
            no: "Nunca. Y lo más probable es que nunca empiece a jugar"
          }          
        }
      },
      mx: {
        defaultLang: 'mx',
        links: {
          yesLink: "https://yandex.ru/poll/enter/JQA7M13NZD3p4FWPVCaZ8g",
          maybeLink: CONFIG.fallbackLink,
          noLink: CONFIG.fallbackLink
        },
        languages: {
          en: {
            question: "Do you play casino online?",
            yes: "YES",
            maybe: "NO but maybe will start one day",
            no: "NO and most likely will never start"
          },
          mx: {
            question: "¿Juegas al casino en línea?",
            yes: "Sí",
            maybe: "Nunca. Pero quizás empiece a jugar algún día",
            no: "Nunca. Y lo más probable es que nunca empiece a jugar"
          }          
        }
      },
      mr: {
        defaultLang: 'mr',
        links: {
          yesLink: "https://yandex.ru/poll/PB4LYNaDveSpiM2fDVsS6q",
          maybeLink: CONFIG.fallbackLink,
          noLink: CONFIG.fallbackLink
        },
        languages: {
          en: {
            question: "Do you play casino online?",
            yes: "YES",
            maybe: "NO but maybe will start one day",
            no: "NO and most likely will never start"
          },
          mr: {
            question: "Jouez-vous au casino en ligne ?",
            yes: "Oui",
            maybe: "Jamais, mais peut-être que je commencerai à jouer un jour",
            no: "Jamais, et il est fort probable que je ne commencerai jamais à jouer"
          }
        }
      },
      cd: {
        defaultLang: 'cd',
        links: {
          yesLink: "https://yandex.ru/poll/NGRPu6prgYXVk5mTbnptHx",
          maybeLink: CONFIG.fallbackLink,
          noLink: CONFIG.fallbackLink
        },
        languages: {
          en: {
            question: "Do you play casino online?",
            yes: "YES",
            maybe: "NO but maybe will start one day",
            no: "NO and most likely will never start"
          },
          cd: {
            question: "Jouez-vous au casino en ligne ?",
            yes: "Oui",
            maybe: "Jamais, mais peut-être que je commencerai à jouer un jour",
            no: "Jamais, et il est fort probable que je ne commencerai jamais à jouer"
          }
        }
      },
      ar: {
        defaultLang: 'ar',
        links: {
          yesLink: "https://yandex.ru/poll/enter/PgUuEiBPzKUE4FDfBx9K9c",
          maybeLink: CONFIG.fallbackLink,
          noLink: CONFIG.fallbackLink
        },
        languages: {
          en: {
            question: "Do you play casino online?",
            yes: "YES",
            maybe: "NO but maybe will start one day",
            no: "NO and most likely will never start"
          },
          ar: {
            question: "¿Juegas al casino en línea?",
            yes: "Sí",
            maybe: "Nunca. Pero quizás empiece a jugar algún día",
            no: "Nunca. Y lo más probable es que nunca empiece a jugar"
          }          
        }
      },
      ca: {
        defaultLang: 'ca',
        links: {
          yesLink: "https://yandex.ru/poll/Qu2RbpeZLc9JsUxeNdqYJ1",
          maybeLink: CONFIG.fallbackLink,
          noLink: CONFIG.fallbackLink
        },
        languages: {
          en: {
            question: "Do you play casino online?",
            yes: "Oui",
            maybe: "NO but maybe will start one day",
            no: "NO and most likely will never start"
          },
          ca: {
            question: "Jouez-vous au casino en ligne ?",
            yes: "YA",
            maybe: "Jamais, mais peut-être que je commencerai à jouer un jour",
            no: "Jamais, et il est fort probable que je ne commencerai jamais à jouer"
          }
        }
      },
      ni: {
        defaultLang: 'en',
        links: {
          yesLink: "https://yandex.ru/poll/2SrximsfA66khCXynT4JmQ",
          maybeLink: CONFIG.fallbackLink,
          noLink: CONFIG.fallbackLink
        },
        languages: {
          en: {
            question: "Do you play casino online?",
            yes: "YES",
            maybe: "NO but maybe will start one day",
            no: "NO and most likely will never start"
          }
        }
      }
    };

    const availableRegionCodes = Object.keys(translations);

    function updateContent(region, lang) {
        try {
            const questionEl = document.getElementById('question');
            const buttons = [
                document.getElementById('yesBtn'),
                document.getElementById('maybeBtn'), 
                document.getElementById('noBtn')
            ];
            
            if (!questionEl || buttons.some(btn => !btn)) {
                throw new Error('One or more elements not found in the DOM');
            }

            const regionData = translations[region];
            if (!regionData) {
                throw new Error(`No data found for region: ${region}`);
            }

            const langData = regionData.languages[lang];
            const messages = langData || regionData.languages[regionData.defaultLang];

            questionEl.textContent = messages.question;
            
            const keys = ['yes', 'maybe', 'no'];
            buttons.forEach((button, index) => {
                button.textContent = messages[keys[index]];
                button.href = regionData.links[`${keys[index]}Link`];
            });
        } catch (error) {
            console.error('Failed to update content:', error);
        }
    }

    function addRidParam(link, ridValue) {
        if (!link || !ridValue) return;
        try {
            const linkUrl = new URL(link.href);
            linkUrl.searchParams.set(CONFIG.ridKey, ridValue);
            link.href = linkUrl.toString();
        } catch (error) {
            console.error('Failed to add RID to link:', error);
        }
    }

    function isValidRid(ridValue) {
        return ridValue && /^[a-zA-Z0-9_-]+$/.test(ridValue);
    }
    
    function getParameterFromUrl(paramKey) {
        try {
            const params = new URLSearchParams(window.location.search);
            for (const [key, value] of params.entries()) {
                if (key.toLowerCase() === paramKey.toLowerCase()) {
                    return value.trim();
                }
            }
            return null;
        } catch (error) {
            console.error('Failed to parse URL parameters:', error);
            return null;
        }
    }

    function isLocalStorageAvailable() {
        try {
            const storage = window.localStorage;
            const test = '__storage_test__';
            storage.setItem(test, test);
            storage.removeItem(test);
            return true;
        } catch {
            return false;
        }
    }

    function getBrowserLanguage(region) {
        const regionData = translations[region];
        if (!regionData) return regionData.defaultLang;

        const browserLangs = navigator.languages || [navigator.language];
        
        for (const lang of browserLangs) {
            const primaryLang = lang.split('-')[0].toLowerCase();
            if (primaryLang in regionData.languages) {
                return primaryLang;
            }
            if (lang.toLowerCase() in regionData.languages) {
                return lang.toLowerCase();
            }
        }
        return regionData.defaultLang;
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        try {
            const requestedRegion = getParameterFromUrl(CONFIG.regionKey);
            
            if (!requestedRegion || !availableRegionCodes.includes(requestedRegion)) {
                window.location.replace('./406.html');
                return;
            }

            const detectedLang = getBrowserLanguage(requestedRegion);

            updateContent(requestedRegion, detectedLang);

            const ridValue = getParameterFromUrl(CONFIG.ridKey);
            if (ridValue) {
                if (isLocalStorageAvailable()) {
                    localStorage.setItem('RID', ridValue);
                }

                document.querySelectorAll('.button').forEach(btn => addRidParam(btn, ridValue));
            }
        } catch (error) {
            console.error('Initialization failed:', error);
        }
    });
  </script>
</body>
</html>








